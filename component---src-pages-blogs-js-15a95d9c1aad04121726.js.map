{"version":3,"file":"component---src-pages-blogs-js-15a95d9c1aad04121726.js","mappings":"qIAmBA,IAjBkB,SAAC,GAAuB,IAAtBA,EAAqB,EAArBA,UAAWC,EAAU,EAAVA,KACvBC,EAAa,cAWjB,MAViB,WAAdF,EACCE,EAAa,cACO,QAAdF,EACNE,EAAa,WACO,SAAdF,EACNE,EAAa,YACO,UAAdF,IACNE,EAAa,cAIb,uBAAKC,UAAS,kCAAoCD,GAAeD,EAExE,C,wGC+FD,UAxGkB,SAAAG,GACd,IACMC,EADSD,EAARE,KACeC,UAAUC,MAEhC,GAA0BC,EAAAA,EAAAA,UAAS,CAC/BC,aAAc,GACdC,MAHe,KACZC,EAAP,KAAcC,EAAd,KAIOC,GAAKC,EAAAA,EAAAA,KAALD,EACP,GAAiCL,EAAAA,EAAAA,UAAS,IAAnCO,EAAP,KAAoBC,EAApB,KACA,SAASC,EAAkBC,GACvB,IAAMR,EAAQS,SAASC,eAAe,kBAAkBC,MAGlDZ,GAFSN,EAARE,KACYC,UAAUC,OAAS,IACXe,QAAO,SAAAC,GAC9B,IAAMC,EAAQD,aAAH,EAAGA,EAAMC,MACdC,EAAOF,aAAH,EAAGA,EAAME,KAAKlB,MAExB,OADgBgB,aAAH,EAAGA,EAAMG,SAEVC,cAAcC,SAASlB,EAAMiB,gBACrCH,EAAMG,cAAcC,SAASlB,EAAMiB,gBAClCF,GACGA,EACKI,KAAK,IACLF,cACAC,SAASlB,EAAMiB,cAE/B,IACDf,EAAS,CACLF,MAAAA,EACAD,aAAAA,GAEP,CAQG,IAAOA,EAAuBE,EAAvBF,aAAcC,EAASC,EAATD,MAEnBoB,EADmBrB,GAtCN,KAsCsBC,EACRD,EAAeL,EAEhD,OACI,gCACI,gBAAC,IAAD,CAAY2B,UAAW,QAASC,OAAQ,UACxC,gBAAC,IAAD,CAAWhC,KAAM,SAAUD,UAAU,WACrC,uBAAKG,UAAU,8BAA8B+B,GAAG,SAC5C,uBAAK/B,UAAU,uCACX,sBAAIA,UAAU,2CAA2C,cAAaW,EAAE,UACnEA,EAAE,UAEP,uBAAKX,UAAU,aAGf,uBAAKA,UAAU,yDACX,uBAAKA,UAAU,sBACX,0BAAQgC,QAAS,kBAAMlB,EAAU,UAAhB,EAA4Bd,WAA4B,YAAhBa,EAA4B,SAAW,IAAM,QAAtG,YAEJ,uBAAKb,UAAU,sBACX,0BAAQgC,QAAS,kBAAMlB,EAAU,YAAhB,EAA8Bd,WAA4B,cAAhBa,EAA8B,SAAW,IAAM,QAA1G,cAEJ,uBAAKb,UAAU,4CACX,yBACIA,UAAU,2BACV+B,GAAG,iBACHE,KAAK,OACL,aAAW,SACXC,YAAY,YACZC,SAAU,kBAAMpB,GAAN,OAIpBF,GAAeL,IACjB,uBAAKR,UAAU,iBACX,0BAAQgC,QAAS,kBA1C7BI,EAAWnB,SAASC,eAAe,kBACvCJ,EAAU,IACVsB,EAASjB,MAAM,QACfJ,IAJJ,IACQqB,CA0C6B,EAAqBpC,UAAU,OAAhD,UAGJ,sBAAIA,UAAU,0EAA0E+B,GAAG,cACtFH,EAAMS,KAAI,SAAAC,GAAI,OACVA,EAAKf,KAAKlB,MAAMe,QAAO,SAACmB,GAAD,OAAUA,EAAKC,OAAS3B,CAAxB,IAAqC4B,QAA0B,KAAhB5B,IACvE,sBAAI6B,IAAKJ,EAAKK,KAAM3C,UAAU,iBAC1B,gBAAC,EAAA4C,KAAD,CAAMC,GAAIP,EAAKK,KAAO,KAClB,uBAAK3C,UAAU,6DACX,uBAAKA,UAAU,mBACX,gBAAC,IAAD,CAAKA,UAAU,6BAA6B8C,MAAOR,EAAKS,cAAcT,KAAKU,UAAUC,gBAAgBH,MAAOI,IAAI,eAChH,uBAAKlD,UAAU,oCACX,uBAAKA,UAAU,cACX,sBAAIA,UAAU,iEAAiEsC,EAAKhB,YATjG,OAsBtC,C","sources":["webpack://kalmars-website/./src/components/elements/FadedText.js","webpack://kalmars-website/./src/pages/blogs.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst FadedText = ({direction, text}) => {\r\n    let class_name = \"css--bottom\";\r\n    if(direction === 'bottom') {\r\n        class_name = \"css--bottom\";\r\n    } else if(direction === 'top') {\r\n        class_name = \"css--top\";\r\n    } else if(direction === 'left') {\r\n        class_name = \"css--left\";\r\n    } else if(direction === 'right') {\r\n        class_name = \"css--right\";\r\n    }\r\n\r\n    return (\r\n        <div className={`hidden md:block css--fadedtext ${class_name}`}>{text}</div>\r\n    )\r\n}\r\n\r\nexport default FadedText\r\n","import React, {useState} from \"react\"\r\nimport {Link, graphql} from \"gatsby\"\r\nimport Navigation from \"../components/layout/Navigation\";\r\nimport Img from \"gatsby-image\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport '../i18n/i18n';\r\nimport FadedText from \"../components/elements/FadedText\";\r\n\r\nconst BlogIndex = props => {\r\n    const {data} = props\r\n    const allPosts = data.allWpPost.nodes\r\n    const emptyQuery = \"\"\r\n    const [state, setState] = useState({\r\n        filteredData: [],\r\n        query: emptyQuery,\r\n    })\r\n    const {t} = useTranslation();\r\n    const [filterValue, setFilter] = useState('');\r\n    function handleInputChange(val) {\r\n        const query = document.getElementById(\"js--search-bar\").value;\r\n        const {data} = props\r\n        const posts = data.allWpPost.nodes || []\r\n        const filteredData = posts.filter(post => {\r\n            const title = post?.title\r\n            const tags = post?.tags.nodes\r\n            const excerpt = post?.excerpt\r\n            return (\r\n                excerpt.toLowerCase().includes(query.toLowerCase()) ||\r\n                title.toLowerCase().includes(query.toLowerCase()) ||\r\n                (tags &&\r\n                    tags\r\n                        .join(\"\")\r\n                        .toLowerCase()\r\n                        .includes(query.toLowerCase()))\r\n            )\r\n        })\r\n        setState({\r\n            query,\r\n            filteredData,\r\n        })\r\n    }\r\n    function clearFilter() {\r\n        let input_el = document.getElementById(\"js--search-bar\");\r\n        setFilter('');\r\n        input_el.value='';\r\n        handleInputChange();\r\n    }\r\n\r\n        const {filteredData, query} = state\r\n    const hasSearchResults = filteredData && query !== emptyQuery\r\n    const posts = hasSearchResults ? filteredData : allPosts\r\n\r\n    return (\r\n        <>\r\n            <Navigation pageTitle={'Blogs'} pageNr={'MX6B1'}/>\r\n            <FadedText text={'EXPAND'} direction=\"bottom\"/>\r\n            <div className=\"relative py-14 min-h-screen\" id=\"blogs\">\r\n                <div className=\"md:container mx-auto mt-20 md:mt-18\">\r\n                    <h1 className=\"text-4xl md:text-5xl glitch text-center \" data-glitch={t('blogs')}>\r\n                        {t('blogs')}\r\n                    </h1>\r\n                    <div className=\"text-end\">\r\n\r\n                    </div>\r\n                    <div className=\"flex flex-col lg:grid lg:grid-cols-6 gap-3 p-4 lg:p-0\">\r\n                        <div className=\"order-2 lg:order-1\">\r\n                            <button onClick={() => setFilter('Rewards')} className={(filterValue === 'Rewards' ? 'active' : '') + ' btn'}>Rewards</button>\r\n                        </div>\r\n                        <div className=\"order-3 lg:order-2\">\r\n                            <button onClick={() => setFilter('Education')} className={(filterValue === 'Education' ? 'active' : '') + ' btn'}>Education</button>\r\n                        </div>\r\n                        <div className=\"text-end order-1 lg:order-3 lg:col-end-7\">\r\n                            <input\r\n                                className=\"css--search-input w-full\"\r\n                                id=\"js--search-bar\"\r\n                                type=\"text\"\r\n                                aria-label=\"Search\"\r\n                                placeholder=\"Search...\"\r\n                                onChange={() => handleInputChange()}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    {(filterValue || query) &&\r\n                    <div className=\"text-end mt-4\">\r\n                        <button onClick={() => clearFilter()} className=\"btn\">Reset</button>\r\n                    </div>\r\n                    }\r\n                    <ul className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 mt-12 px-4 md:px-0\" id=\"news_block\">\r\n                        {posts.map(node => (\r\n                            (node.tags.nodes.filter((item) => item.name === filterValue).length || filterValue === '') &&\r\n                            <li key={node.slug} className=\"aspect-square\">\r\n                                <Link to={node.slug + \"/\"}>\r\n                                    <div className=\"col-span-1 flex flex-col h-full absolute w-full leading-8\">\r\n                                        <div className=\"relative h-full\">\r\n                                            <Img className=\"object-cover h-full w-full\" fluid={node.featuredImage.node.localFile.childImageSharp.fluid} alt=\"Blog image\"/>\r\n                                            <div className=\"h-full absolute top-0 w-full p-7\">\r\n                                                <div className=\"col-span-2\">\r\n                                                    <h2 className=\"text-2xl xl:text-4xl text-white font-bold hover:text-cyan-500\">{node.title}</h2>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BlogIndex\r\n\r\nexport const pageQuery = graphql`\r\n  query {\r\n    allWpPost(\r\n    sort: { order: DESC, fields: [date] }\r\n    filter: {categories: {nodes: {elemMatch: {name: {eq: \"blogs\"}}}}}\r\n    ) {\r\n       nodes {\r\n            id\r\n            title\r\n            slug\r\n            excerpt\r\n            date(formatString: \"YYYY/MM/DD\")\r\n            tags {\r\n              nodes {\r\n                name\r\n              }\r\n            }\r\n            language {\r\n              slug\r\n            }\r\n            featuredImage {\r\n              node {\r\n                sourceUrl\r\n                 localFile {\r\n                   publicURL\r\n                   childImageSharp {\r\n                     gatsbyImageData(\r\n                        placeholder: BLURRED\r\n                     )\r\n                     fluid(maxWidth: 2000, quality: 100) {\r\n                         ...GatsbyImageSharpFluid\r\n                     }\r\n                   }\r\n                 }\r\n              }\r\n            }\r\n          }\r\n    }\r\n  }\r\n`\r\n"],"names":["direction","text","class_name","className","props","allPosts","data","allWpPost","nodes","useState","filteredData","query","state","setState","t","useTranslation","filterValue","setFilter","handleInputChange","val","document","getElementById","value","filter","post","title","tags","excerpt","toLowerCase","includes","join","posts","pageTitle","pageNr","id","onClick","type","placeholder","onChange","input_el","map","node","item","name","length","key","slug","Link","to","fluid","featuredImage","localFile","childImageSharp","alt"],"sourceRoot":""}